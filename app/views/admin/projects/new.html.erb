<div class="container">
  <div class="project_form">
    <%= form_for :project, :url => admin_projects_path do |f| %>
      <div class="form-group">
        <%= label_tag 'project[category_id]', 'Categorie' %>
        <%= select_tag "project[category_id]", options_from_collection_for_select(@categories, "id", "name") %>
      </div>
      <div class="form-group">
        <%= label_tag 'name', 'Nom du projet' %>
        <%= f.text_field :name, class: "form-control" %>
      </div>
      <div class="form-group">
        <%= label_tag 'content', 'Description de votre projet' %>
        <%= f.text_area :content, :class => "tinymce", :rows => 25, :cols => 120 %>
      </div>
      <div class="form-group">
        <%= label_tag 'content', 'Localisation' %>
        <%= f.text_area :location %>
      </div>
      <div class="form-group">
        <%= label_tag 'project[state]', 'Avancement du projet:' %>
        <%= select_tag "project[state]", options_for_select(["Proposé","En cours","Recherche","Fini"], "Proposé") %>
      </div>
      <div class="form-group">
        <%= f.label :thumb, 'Image'%>
        <div >
          <%= f.file_field :thumb %>
        </div>
      </div>
      <%= f.submit :valider, class: "btn btn-primary" %>
    <% end %>
    <div class="form_errors">
      <% if @project.errors.any? %>
      <%= debug @project.errors.messages %>
        <ul class="Signup_Errors">
          <% @project.errors.messages.each do | key, value | %>
            <li class="text-danger"> <%= value.last.html_safe %></li>
          <% end %>
        </ul>
      <% end %>
    </div>
  </div>
</div>
<script type="text/javascript">

document.addEventListener("turbolinks:load", function() {
  tinymce.remove();
    tinyMCE.init({
      selector: '.tinymce'
    });
})
</script>
